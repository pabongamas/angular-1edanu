<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <h1 class="text-3xl text-center font-bold underline">Listado de albums</h1>
    <div class="container-fluid">
      <div>
        <div class="flex">
          <button (click)="addAlbum()" type="button" class="btn btn-primary">
            Agregar album <span class="badge text-bg-secondary">+</span>
          </button>
        </div>
        <hr />
        <table class="table table-dark table-striped lign-middle">
          <thead>
            <tr>
              <td class="text-center">Nombre</td>
              <td class="text-center">AÃ±o</td>
              <td class="text-center">Artista</td>
              <td class="text-center">Cover album</td>
              <td class="text-center">Acciones</td>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let album of albums; index as i">
              <td class="align-middle text-center">
                <span *ngIf="album.agregado; else elseblocknombre">{{
                  album.nombre
                }}</span>
                <ng-template #elseblocknombre>
                  <input
                    #nameInput="ngModel"
                    [(ngModel)]="album.nombre"
                    placeholder="Ingrese Nombre del album"
                    type="text"
                    class="form-control"
                  />
                </ng-template>
              </td>
              <td class="align-middle text-center">
                <span *ngIf="album.agregado; else elseblockanio">{{
                  album.anio
                }}</span>
                <ng-template #elseblockanio>
                  <input
                    #nameInput="ngModel"
                    [(ngModel)]="album.anio"
                    placeholder="Ingrese fecha del album"
                    type="date"
                    class="form-control"
                  />
                </ng-template>
              </td>
              <td class="align-middle text-center">
                <span *ngIf="album.agregado; else elseblockartista">{{
                  album.artista
                }}</span>
                <ng-template #elseblockartista>
                  <input
                    #nameInput="ngModel"
                    [(ngModel)]="album.artista"
                    placeholder="Ingrese artista del album"
                    type="text"
                    class="form-control"
                  />
                </ng-template>
              </td>
              <td class="align-middle text-center">
                <img
                  *ngIf="album.agregado; else elseblockcover"
                  [src]="album.image"
                  width="150px"
                  alt="image"
                />
                <ng-template #elseblockcover>
                  <input
                    #nameInput="ngModel"
                    [(ngModel)]="album.image"
                    placeholder="Ingrese Url de la imagen del album"
                    type="text"
                    class="form-control"
                  />
                </ng-template>
              </td>
              <td class="align-middle text-center">
                <div
                  *ngIf="album.agregado; else elseblockactions"
                  class="flex divActions"
                >
                  <button (click)="editAlbum(i)" class="btn btn-warning">
                    Editar
                  </button>
                  <button (click)="deleteAlbum(i)" class="btn btn-danger">
                    Eliminar
                  </button>
                </div>
                <ng-template #elseblockactions>
                  <button (click)="addAlbumButton(i)" class="btn btn-success">
                    Guardar
                  </button>
                </ng-template>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
